"use strict";(self.webpackChunkwebpack_react_ts_preset_1=self.webpackChunkwebpack_react_ts_preset_1||[]).push([[201],{3913:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(4848);const a={link:"WWbseSOQ",shadow:"qPf1KUkR",primary:"EhyyJqDL",filled:"yQYZSKm2",secondary:"AoChoFaF",outlined:"XGcduZrw",none:"xge20BlT"};var o=n(4976),s=n(211),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};const c=function(e){var t=e.variant,n=void 0===t?"filled":t,c=e.color,l=void 0===c?"primary":c,u=e.shadow,d=void 0===u||u,h=e.icon,f=void 0===h?null:h,p=e.className,v=void 0===p?"":p,m=(e.setTopScroll,e.children),b=e.to,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["variant","color","shadow","icon","className","setTopScroll","children","to"]);return s.e&&(0,s.e)(),(0,r.jsxs)(o.N_,i({to:b,className:[a.link,a[l],a[n],d&&a.shadow,v].join(" ")},x,{children:[f,m]}))}},8413:(e,t,n)=>{n.d(t,{Y:()=>a});var r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],a=function(e,t){var n=new Date(e),a=n.getDate(),o=n.getMonth(),s=n.getFullYear(),i=o<10?"0".concat(o+1):o+1,c=a<10?"0".concat(a):a;switch(t){case"text":return"".concat(a," ").concat(r[o],", ").concat(s);case"date":return"".concat(c,".").concat(i,".").concat(s)}}},211:(e,t,n)=>{n.d(t,{e:()=>r});var r=function(e){void 0===e&&(e="instant"),window.scrollTo({top:0,behavior:e})}},6149:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(148),a=n(4303),o=r.Q.User,s=r.Q.Profile,i=function(e){return(0,a.G)((function(e){return e.auth.userId}))===e?"/".concat(s):"/".concat(o,"/").concat(e)}},4201:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(4848),a=n(7767);var o=n(4984),s=n(7494),i=n(3393),c=n(148),l=n(3913);const u={wrap:"EMVrqCVL",content:"YqiS0h_C",header:"Djthjtny",published:"HFxHdVgG",desc:"O3VxlsDR"};var d=n(2374);const h={comment:"ezkptb56"};var f=n(9785),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p.apply(this,arguments)};const v=function(e){var t=e.userId,n=e.forummessageId,a=(0,o.vb)(),s=a[0],i=(a[1],(0,f.mN)()),c=i.register,l=i.handleSubmit,u=i.formState,v=(u.errors,u.isSubmitting),m=i.getValues;return t?(0,r.jsxs)("form",{onSubmit:l((function(e){return r=void 0,a=void 0,i=function(){var e;return function(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(r){switch(r.label){case 0:return e=m("text"),[4,s({userId:t,forummessageId:n,text:e})];case 1:return r.sent(),[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(i.next(e))}catch(e){t(e)}}function s(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,s)}c((i=i.apply(r,a||[])).next())}));var r,a,o,i})),children:[(0,r.jsx)("textarea",p({className:h.comment},c("text",{minLength:35}),{placeholder:"Комментарий"})),(0,r.jsx)(d.A,{disabled:v,type:"submit",children:"Отправить"})]}):(0,r.jsx)("div",{className:h.notAuth,children:"Авторизируйтесь, чтобы ответить на сообщение!"})};var m=n(8413),b=n(6149),x=n(4303);const j=function(e){var t=e.id,n=e.title,a=e.login,o=e.description,s=e.datetime,i=e.userId,c=(0,m.Y)(s,"text"),d=(0,b.p)(i),h=(0,x.G)((function(e){return e.auth.userId}));return(0,r.jsx)("div",{className:u.wrap,children:(0,r.jsxs)("div",{className:u.content,children:[(0,r.jsxs)("header",{className:u.header,children:[(0,r.jsx)("h1",{className:u.title,children:n}),(0,r.jsx)(l.A,{to:d,variant:"none",shadow:!1,children:a})]}),(0,r.jsxs)("time",{dateTime:s,className:u.published,children:["Опубликовано ",c]}),(0,r.jsx)("p",{className:u.desc,children:o}),(0,r.jsx)(v,{userId:h,forummessageId:t})]})})},y={header:"HELITAHh",published:"dtFra4AZ",text:"R13kRw9H"},g=function(e){e.id;var t=e.userId,n=e.login,a=e.datetime,o=e.text,s=(0,m.Y)(a,"date"),i=(0,b.p)(t);return(0,r.jsxs)("div",{className:y.comment,children:[(0,r.jsxs)("header",{className:y.header,children:[(0,r.jsx)(l.A,{shadow:!1,variant:"none",to:i,children:n}),(0,r.jsx)("time",{dateTime:a,className:y.published,children:s})]}),(0,r.jsx)("p",{className:y.text,children:o})]})};var w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w.apply(this,arguments)};const O=function(e){var t=e.forumMessageId,n=(0,o.VP)({id:t}),a=n.data,i=n.isLoading,c=n.isFetching,l=n.isError,u=null==a?void 0:a.data;return null==a||a.totalCount,console.log(u),i||c?(0,r.jsx)(s.A,{}):l?(0,r.jsx)("p",{children:"Ошибка"}):!!(null==u?void 0:u.length)&&(0,r.jsx)("div",{className:"OMo5xsh7",children:u.map((function(e){return(0,r.jsx)(g,w({id:e._id},e),e._id)}))})};var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)};c.Q.User;const k=function(){var e=(0,a.g)().id,t=(0,o.UF)(e),n=t.data,c=t.isLoading,l=t.isFetching,u=t.isError;return c||l?(0,r.jsx)(s.A,{}):u?(0,r.jsx)("p",{children:"Ошибка"}):n&&(0,r.jsx)(i.A,{children:(0,r.jsxs)("div",{className:"UurNjtbT",children:[(0,r.jsx)(j,N({id:n._id},n)),(0,r.jsx)(O,{forumMessageId:n._id})]})})}}}]);
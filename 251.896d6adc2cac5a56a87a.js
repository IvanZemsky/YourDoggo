"use strict";(self.webpackChunkwebpack_react_ts_preset_1=self.webpackChunkwebpack_react_ts_preset_1||[]).push([[251],{8699:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(4848),i=n(2374),a=n(5898),s=n(6540),l=n(4256),c=n(7889),o=n(4303),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};const d=function(e){var t=e.isLiked,n=e.likedItemId,d=(e.className,e.unlikedStyles),p=e.likedStyles,f=e.endpoint,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["isLiked","likedItemId","className","unlikedStyles","likedStyles","endpoint"]),k=(0,o.G)((function(e){return e.auth.userId})),v=(0,c.p)(n,k,t,f),x=v.toggleLike,y=v.liked,m=(0,s.useCallback)((function(e){return t=void 0,n=void 0,i=function(){return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(t){switch(t.label){case 0:return e.stopPropagation(),e.preventDefault(),k?[4,x()]:[2];case 1:return t.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function l(e){try{c(i.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,l)}c((i=i.apply(t,n||[])).next())}));var t,n,r,i}),[]),b=(0,l.p)(y,d,p);return(0,r.jsx)(i.A,u({variant:"none",onClick:m,className:b},h,{children:(0,r.jsx)(a.A,{})}))}},2995:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(4848),i=n(4303),a=n(7889);const s=function(e){var t=e.id,n=e.likes,s=e.isLiked,l=e.endpoint,c=e.className,o=(0,i.G)((function(e){return e.auth.userId})),u=(0,a.p)(t,o,s,l).like;return(0,r.jsx)("p",{className:c,children:(null==u?void 0:u.likes)||n})}},5898:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(4848);const i=function(){return(0,r.jsxs)("svg",{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{fill:"none",height:"256",width:"256"}),(0,r.jsx)("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})}},8413:(e,t,n)=>{n.d(t,{Y:()=>i});var r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],i=function(e,t){var n=new Date(e),i=n.getDate(),a=n.getMonth(),s=n.getFullYear(),l=a<10?"0".concat(a+1):a+1,c=i<10?"0".concat(i):i;switch(t){case"text":return"".concat(i," ").concat(r[a],", ").concat(s);case"date":return"".concat(c,".").concat(l,".").concat(s)}}},7889:(e,t,n)=>{n.d(t,{p:()=>a});var r=n(8023),i=n(6540),a=function(e,t,n,a){var s=(0,r.Y1)({fixedCacheKey:a+e}),l=s[0],c=s[1].data,o={userId:t||"",likedItemId:e,endpoint:a},u=(0,i.useState)(n),d=u[0],p=u[1];return(0,i.useEffect)((function(){c&&p(c.liked)}),[c]),{toggleLike:function(){return l(o)},liked:d,like:c}}},6149:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(148),i=n(4303),a=r.Q.User,s=r.Q.Profile,l=function(e){return(0,i.G)((function(e){return e.auth.userId}))===e?"/".concat(s):"/".concat(a,"/").concat(e)}},4251:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(4848),i=n(8023);const a={wrapper:"ePnyWMxe",content:"PYBApAMs",header:"UwmZw40q",titleWrap:"TS2vPI2V",title:"EYljaxuW",userLink:"d37CaZ0N",published:"gB0ZjnD8",text:"tEXOb9lh",likes:"EVL3DQIm",likeBtn:"IVsP5FOo",liked:"nl33eQfx",likeCounter:"FL6ND4hO"};var s=n(7767),l=n(7494),c=n(3393),o=n(4976),u=n(6149),d=n(8413),p=n(8699),f=n(2995),h=n(8324),k=n(4303),v=n(6540),x=h.BH.ARTICLES;const y=function(){var e=(0,s.g)().id,t=(0,k.G)((function(e){return e.auth.userId})),n=(0,i.E6)({id:e,userId:t,userLogin:!0}),h=n.data,y=n.isLoading,m=n.isError,b=(0,v.useRef)(null);(0,v.useEffect)((function(){b.current&&h&&(b.current.innerHTML=h.text)}),[b,h]);var w=(0,u.p)(null==h?void 0:h.userId),j=h?(0,d.Y)(h.datetime,"text"):"";return y?(0,r.jsx)(l.A,{}):m?(0,r.jsx)("p",{children:"Ошибка"}):h&&(0,r.jsx)(c.A,{additionalStyles:a.wrapper,children:(0,r.jsxs)("div",{className:a.content,children:[(0,r.jsxs)("header",{className:a.header,children:[(0,r.jsxs)("div",{className:a.titleWrap,children:[(0,r.jsx)("h1",{className:a.title,children:h.title}),(0,r.jsxs)(o.N_,{to:w,className:a.userLink,children:["@",h.login]})]}),(0,r.jsxs)("time",{dateTime:h.datetime,className:a.published,children:["Опубликовано ",j]})]}),(0,r.jsx)("p",{className:a.text,ref:b}),h.tags.length?(0,r.jsx)("div",{className:a.tags,children:h.tags.map((function(e){return(0,r.jsx)("p",{children:e})}))}):null,(0,r.jsxs)("div",{className:a.likes,children:[(0,r.jsx)(p.A,{likedItemId:e,isLiked:h.isLiked,likedStyles:a.liked,unlikedStyles:a.likeBtn,endpoint:x}),(0,r.jsx)(f.A,{id:e,likes:h.likes,isLiked:h.isLiked,className:a.likeCounter,endpoint:x})]})]})})}}}]);
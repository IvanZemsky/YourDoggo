"use strict";(self.webpackChunkwebpack_react_ts_preset_1=self.webpackChunkwebpack_react_ts_preset_1||[]).push([[355],{5904:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(4848);var s=t(3393);const a=function(e){var n=e.input,t=e.children;return(0,r.jsx)("header",{className:"Kw0QhqY2",children:(0,r.jsx)(s.A,{children:(0,r.jsxs)("div",{className:"uMYuABUa",children:[n,(0,r.jsx)("div",{className:"bihhdsiy",children:t})]})})})}},8699:(e,n,t)=>{t.d(n,{A:()=>u});var r=t(4848),s=t(2374),a=t(5898),i=t(6540),c=t(4256),o=t(7889),l=t(4303),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},d.apply(this,arguments)};const u=function(e){var n=e.isLiked,t=e.likedItemId,u=(e.className,e.unlikedStyles),h=e.likedStyles,f=e.endpoint,p=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]])}return t}(e,["isLiked","likedItemId","className","unlikedStyles","likedStyles","endpoint"]),v=(0,l.G)((function(e){return e.auth.userId})),j=(0,o.p)(t,v,n,f),x=j.toggleLike,m=j.liked,g=(0,i.useCallback)((function(e){return n=void 0,t=void 0,s=function(){return function(e,n){var t,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(o){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(t=1,r&&(s=2&c[0]?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(6===c[0]&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=n.call(e,i)}catch(e){c=[6,e],r=0}finally{t=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}}(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),v?[4,x()]:[2];case 1:return n.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{o(s.next(e))}catch(e){a(e)}}function c(e){try{o(s.throw(e))}catch(e){a(e)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}o((s=s.apply(n,t||[])).next())}));var n,t,r,s}),[]),k=(0,c.p)(m,u,h);return(0,r.jsx)(s.A,d({variant:"none",onClick:g,className:k},p,{children:(0,r.jsx)(a.A,{})}))}},2995:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(4848),s=t(4303),a=t(7889);const i=function(e){var n=e.id,t=e.likes,i=e.isLiked,c=e.endpoint,o=e.className,l=(0,s.G)((function(e){return e.auth.userId})),d=(0,a.p)(n,l,i,c).like;return(0,r.jsx)("p",{className:o,children:(null==d?void 0:d.likes)||t})}},3136:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(4848);const s={modal:"a9AN6Ppf"};var a=t(961),i=t(6540),c=t(4303),o=function(){return o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},o.apply(this,arguments)};const l=function(e){var n=e.modalContent,t=e.className,l=e.children,d=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]])}return t}(e,["modalContent","className","children"]),u=function(e){var n=(0,c.G)((function(e){return e.modalSlice.opened}))===e,t=window.scrollY,r=function(){scrollTo({top:t})};return(0,i.useEffect)((function(){return n&&window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[n,e]),n}(n);return u?(0,a.createPortal)((0,r.jsx)("div",o({className:[s.modal,t].join(" ")},d,{children:l})),document.getElementById("modal")):null}},3429:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(4848),s=t(4303),a=t(2374);const i=function(){return(0,r.jsxs)("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{}),(0,r.jsx)("path",{d:"M456.69,421.39,362.6,327.3a173.81,173.81,0,0,0,34.84-104.58C397.44,126.38,319.06,48,222.72,48S48,126.38,48,222.72s78.38,174.72,174.72,174.72A173.81,173.81,0,0,0,327.3,362.6l94.09,94.09a25,25,0,0,0,35.3-35.3ZM97.92,222.72a124.8,124.8,0,1,1,124.8,124.8A124.95,124.95,0,0,1,97.92,222.72Z"})]})};var c=t(6540);const o=(0,c.memo)((function(e){var n=e.dispatchFunc,t=e.defaultValue,o=void 0===t?"":t,l=(0,s.j)(),d=(0,c.useState)(o),u=d[0],h=d[1];return(0,c.useEffect)((function(){h(o)}),[o]),(0,r.jsxs)("div",{className:"GY_Ndh9z",children:[(0,r.jsx)("input",{type:"text",className:"xe0Pw4gw",onChange:function(e){h(e.target.value)},value:u,placeholder:"Поиск"}),(0,r.jsx)(a.A,{variant:"outlined",icon:(0,r.jsx)(i,{}),className:"owRk9PLZ",onClick:function(){l(n(u))}})]})}))},5898:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(4848);const s=function(){return(0,r.jsxs)("svg",{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{fill:"none",height:"256",width:"256"}),(0,r.jsx)("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})}},2226:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(4848);const s=function(){return(0,r.jsxs)("svg",{viewBox:"0 0 68 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M0 34C0 31.7909 1.79086 30 4 30H64C66.2091 30 68 31.7909 68 34C68 36.2091 66.2091 38 64 38H4C1.79086 38 0 36.2091 0 34Z"}),(0,r.jsx)("path",{d:"M34 68C31.7909 68 30 66.2091 30 64V4C30 1.79086 31.7909 0 34 0C36.2091 0 38 1.79086 38 4V64C38 66.2091 36.2091 68 34 68Z"})]})}},8413:(e,n,t)=>{t.d(n,{Y:()=>s});var r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],s=function(e,n){var t=new Date(e),s=t.getDate(),a=t.getMonth(),i=t.getFullYear(),c=a<10?"0".concat(a+1):a+1,o=s<10?"0".concat(s):s;switch(n){case"text":return"".concat(s," ").concat(r[a],", ").concat(i);case"date":return"".concat(o,".").concat(c,".").concat(i)}}},7889:(e,n,t)=>{t.d(n,{p:()=>a});var r=t(8023),s=t(6540),a=function(e,n,t,a){var i=(0,r.Y1)({fixedCacheKey:a+e}),c=i[0],o=i[1].data,l={userId:n||"",likedItemId:e,endpoint:a},d=(0,s.useState)(t),u=d[0],h=d[1];return(0,s.useEffect)((function(){o&&h(o.liked)}),[o]),{toggleLike:function(){return c(l)},liked:u,like:o}}},6149:(e,n,t)=>{t.d(n,{p:()=>c});var r=t(148),s=t(4303),a=r.Q.User,i=r.Q.Profile,c=function(e){return(0,s.G)((function(e){return e.auth.userId}))===e?"/".concat(i):"/".concat(a,"/").concat(e)}},8355:(e,n,t)=>{t.r(n),t.d(n,{default:()=>U});var r=t(4848),s=t(3393);var a=t(8413),i=t(6540),c=t(4303),o=t(1757),l=t(3136);const d={imageModal:"ZMct_6RL",fadeIn:"evFwfH6q",content:"LJ7fbD_w",imageInfo:"Urr0nxpy",header:"JrIFODUZ",headerBtns:"ByTNjh0w",user:"bLmQM_Wf",likes:"SH56KZXv",likeBtn:"yETy5U8g",liked:"Wgx5oRDe",closeBtn:"bF5eh0L4",imgWrap:"bNCsANCL",titleWrap:"x64rSihh",title:"mLno7j0_"};var u=t(4976),h=t(2374);const f=function(){return(0,r.jsxs)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M1.12129 36.4766C-0.0502785 35.3051 -0.0502784 33.4056 1.12129 32.234L32.234 1.12129C33.4056 -0.0502778 35.3051 -0.0502788 36.4766 1.12129C37.6482 2.29287 37.6482 4.19236 36.4766 5.36393L5.36393 36.4766C4.19236 37.6482 2.29287 37.6482 1.12129 36.4766Z"}),(0,r.jsx)("path",{d:"M1.21325 1.21317C2.38482 0.0416008 4.28432 0.0416009 5.45589 1.21317L36.5686 32.3259C37.7402 33.4974 37.7402 35.3969 36.5686 36.5685C35.397 37.7401 33.4975 37.7401 32.3259 36.5685L1.21325 5.45581C0.0416757 4.28424 0.0416756 2.38475 1.21325 1.21317Z"})]})};var p=t(148);var v=t(9377);const j=function(e){var n=e.tags,t=(0,c.j)(),s=function(e){return function(n){t((0,o.Oo)()),t((0,v.Ud)(e))}};return(0,r.jsx)(r.Fragment,{children:n.length?(0,r.jsx)("div",{className:"o7jUTS8G",children:n.map((function(e,n){return(0,r.jsx)(h.A,{variant:"filled",className:"k_R_yuXd",onClick:s(e),children:e},n)}))}):null})};var x=t(8699),m=t(8324),g=t(2995),k=m.BH.GALLERY,y=p.Q.User;const w=function(e){var n=e.id,t=e.title,p=e.tags,v=e.userId,m=e.imgLink,w=e.datetime,b=e.login,N=e.likes,C=e.isLiked,A=(0,c.j)(),O="imageModal".concat(n),L=(0,a.Y)(w,"text").split(",").join(""),I=(0,i.useCallback)((function(e){e.stopPropagation(),A((0,o.Oo)())}),[]);return(0,r.jsx)(l.A,{modalContent:O,className:d.imageModal,onClick:I,children:(0,r.jsx)(s.A,{children:(0,r.jsx)("div",{className:d.content,onClick:function(e){e.stopPropagation()},children:(0,r.jsxs)("div",{className:d.imageInfo,children:[(0,r.jsxs)("header",{className:d.header,children:[(0,r.jsxs)(u.N_,{to:"/".concat(y,"/").concat(v),className:d.user,children:["@ ",b]}),(0,r.jsxs)("div",{className:d.headerBtns,children:[(0,r.jsx)(g.A,{className:d.likes,id:n,likes:N,isLiked:C,endpoint:k}),(0,r.jsx)(x.A,{likedItemId:n,isLiked:C,endpoint:k,likedStyles:d.liked,unlikedStyles:d.likeBtn}),(0,r.jsx)(h.A,{variant:"none",icon:(0,r.jsx)(f,{}),className:d.closeBtn,onClick:I})]})]}),(0,r.jsx)("div",{className:d.imgWrap,children:(0,r.jsx)("img",{src:m,alt:"Изображение"})}),(0,r.jsxs)("div",{className:d.desc,children:[(0,r.jsxs)("div",{className:d.titleWrap,children:[t&&(0,r.jsx)("h3",{className:d.title,children:t}),(0,r.jsxs)("p",{className:d.published,children:["Опубликовано ",L," года"]})]}),(0,r.jsx)(j,{tags:p})]})]})})})})};var b=t(6149),N=function(){return N=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},N.apply(this,arguments)},C=m.BH.GALLERY;const A=function(e){var n=e.id,t=e.title,s=e.imgLink,l=e.datetime,d=e.userId,h=e.login,f=e.isLiked,p=e.hasModal,v=void 0===p||p,j=(0,c.j)(),m="imageModal".concat(n),g=(0,b.p)(d),k=(0,a.Y)(l,"text"),y=(0,i.useCallback)((function(e){e.target instanceof HTMLAnchorElement||j((0,o.qf)(m))}),[]);return(0,r.jsxs)("div",{className:"zwWu6DWA",onClick:v?y:void 0,children:[(0,r.jsxs)("div",{className:"q5pBEzec",children:[h&&(0,r.jsxs)(u.N_,{to:g,className:"WHHYoXgg",children:["@",h]}),(0,r.jsx)(x.A,{likedItemId:n,endpoint:C,isLiked:f,likedStyles:"PkxF6PPD",unlikedStyles:"lVk6SPCD"}),(0,r.jsx)(w,N({},e))]}),(0,r.jsx)("img",{src:s,alt:t}),(0,r.jsxs)("div",{className:"UE6xMsni",children:[(0,r.jsx)("div",{className:"KGpFM3Ay",children:k}),(0,r.jsx)("p",{className:"_rnsHZji",children:t})]})]})};var O=t(7494),L=t(8023),I=function(){return I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},I.apply(this,arguments)},S=function(){return S=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},S.apply(this,arguments)};const P=function(){var e,n,t=(e=(0,c.G)((function(e){return e.galleryFilter})),n=(0,c.G)((function(e){return e.auth.userId})),(0,L.VL)(I(I({},e),{userId:n}))),s=t.data,a=t.isLoading;return t.isError?(0,r.jsx)("p",{children:"Ошибка"}):a?(0,r.jsx)(O.A,{}):(0,r.jsx)("div",{className:"Iq2X_ZZS",children:(null==s?void 0:s.length)?s.map((function(e){return(0,r.jsx)(A,S({id:e._id},e),e._id)})):(0,r.jsx)("p",{children:"Ничего не найдено"})})};var _=t(5904),M=t(3429);const B="XcRz7GuD";var E=t(2226),G=t(7005),Z=t(6231);const Y=function(){var e=(0,c.j)(),n=(0,Z.Ub)({maxWidth:950});return(0,r.jsx)(_.A,{input:(0,r.jsx)(M.A,{dispatchFunc:v.Ud}),children:(0,r.jsxs)(G.A,{isOpen:n,children:[(0,r.jsx)(h.A,{variant:"none",shadow:!1,className:B,onClick:function(){e((0,v.qo)())},children:"Понравившиеся"}),(0,r.jsx)(h.A,{variant:"none",shadow:!1,className:B,children:"Ваша галерея"}),(0,r.jsx)(h.A,{icon:(0,r.jsx)(E.A,{}),className:"eCqhG4Ox",children:"Добавить"})]})})},U=function(){return(0,r.jsxs)("div",{className:"Q4jgJvSa",children:[(0,r.jsx)(Y,{}),(0,r.jsx)(s.A,{children:(0,r.jsx)(P,{})})]})}}}]);
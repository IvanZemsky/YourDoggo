"use strict";(self.webpackChunkyourdoggo=self.webpackChunkyourdoggo||[]).push([[372],{1092:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(4848),i=n(9913),a=n(3121),c=n(6540),o=n(9164),l=n(8788),u=n(4303),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};const d=function(e){var t=e.isLiked,n=e.likedItemId,d=(e.className,e.unlikedStyles),f=e.likedStyles,h=e.endpoint,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["isLiked","likedItemId","className","unlikedStyles","likedStyles","endpoint"]),y=(0,u.G)((function(e){return e.auth.userId})),v=(0,l.p)(n,y,t,h),m=v.toggleLike,g=v.liked,j=(0,c.useCallback)((function(e){return t=void 0,n=void 0,i=function(){return function(e,t){var n,r,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(c=0)),c;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(t){switch(t.label){case 0:return e.stopPropagation(),e.preventDefault(),y?[4,m()]:[2];case 1:return t.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function c(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(c,o)}l((i=i.apply(t,n||[])).next())}));var t,n,r,i}),[]),x=(0,o.p)(g,d,f);return(0,r.jsx)(i.$n,s({variant:"none",onClick:j,className:x},p,{children:(0,r.jsx)(a.C3,{})}))}},5904:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(4848);var i=n(9913);const a=function(e){var t=e.input,n=e.children;return(0,r.jsx)("header",{className:"Kw0QhqY2",children:(0,r.jsx)(i.mO,{children:(0,r.jsxs)("div",{className:"uMYuABUa",children:[t,(0,r.jsx)("div",{className:"bihhdsiy",children:n})]})})})}},7963:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(4848),i=n(780);const a={button:"aI5ByLm8",active:"K7Nm01XW"},c=function(e){var t=e.currentPage,n=e.pageAmount,c=e.handleClick,o=Array.from({length:n},(function(e,t){return t+1})),l=function(e){return[a.button,t===e?a.active:void 0].join(" ")};return(0,r.jsx)(r.Fragment,{children:o.map((function(e){return(0,r.jsx)(i.$,{onClick:c(e),className:l(e),children:e},e)}))})}},6149:(e,t,n)=>{n.d(t,{p:()=>o});var r=n(148),i=n(4303),a=r.Q.User,c=r.Q.Profile,o=function(e){return(0,i.G)((function(e){return e.auth.userId}))===e?"/".concat(c):"/".concat(a,"/").concat(e)}},6372:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(4848);var i=n(9913),a=n(5904),c=n(9952),o=n(3121),l=n(6231);const u="yml733Gi";var s=n(148),d=n(4303),f=s.Q.Articles,h=s.Q.Create;const p=function(){var e=(0,l.Ub)({maxWidth:950}),t=(0,d.j)(),n=(0,d.G)((function(e){return e.auth.userId})),a=(0,d.G)((function(e){return e.articleFilter.userId})),s=(0,d.G)((function(e){return e.articleFilter.liked})),p=a===n,y=""!==a&&!p;return(0,r.jsxs)(i.W1,{isOpen:e,children:[!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.$B,{className:u,text:"Понравишиеся",handleClick:function(){t((0,c.ow)())},name:"filters",id:"liked",checked:s,readOnly:!0}),(0,r.jsx)(i.$B,{className:u,text:y?"Все фото":"Ваши статьи",handleClick:function(){t((0,c.JN)(n))},name:"filters",id:"your-gallery",checked:p,readOnly:!0})]}),(0,r.jsx)(i.Ek,{to:"/".concat(f,"/").concat(h),icon:(0,r.jsx)(o.c1,{}),className:"UGxCeKAb",children:"Добавить"})]})},y=function(){return(0,r.jsx)(a.A,{input:(0,r.jsx)(i.DO,{dispatchFunc:c.Ud}),children:(0,r.jsx)(p,{})})};var v=n(3996),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)},g=function(){var e=(0,d.G)((function(e){return e.articleFilter})),t=(0,d.G)((function(e){return e.auth.userId}));return(0,v.IP)(m(m({},e),{authUserId:t}))};var j=n(7494);var x=n(4976),b=n(3049),k=n(1092),I=n(8324),O=n(6149),A=s.Q.Articles;const N=function(e){var t=e.id,n=e.imgLink,i=e.title,a=e.datetime,c=e.login,o=e.isLiked,l=e.userId,u=(0,O.p)(l),s=(0,b.Y)(a,"date");return(0,r.jsxs)("div",{className:"e6Fr7S0d",children:[(0,r.jsxs)(x.N_,{to:u,className:"zyqoNfkh",children:["@",c]}),(0,r.jsx)(x.N_,{to:"/".concat(A,"/").concat(t),className:"to1PHI6d",children:(0,r.jsxs)("div",{className:"vEpDOPwj",children:[(0,r.jsx)("div",{className:"_Kkv4rF9",children:(0,r.jsx)("img",{src:n,alt:"Превью"})}),(0,r.jsxs)("div",{className:"nuG_36JP",children:[(0,r.jsx)("p",{className:"PCRHTol8",children:i}),(0,r.jsxs)("div",{className:"woIbdmyN",children:[(0,r.jsx)(k.A,{likedItemId:t,isLiked:o,likedStyles:"upxp6lcd",unlikedStyles:"T6kUju3I",endpoint:I.BH.ARTICLES,shadow:!1}),(0,r.jsx)("time",{className:"XbWPp5q7",dateTime:a,children:s})]})]})]})})]})};var w=n(6540),P=n(7963),C=n(6359),L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},L.apply(this,arguments)};const S=function(){var e=g(),t=e.data,n=e.isLoading,i=e.isFetching,a=e.isError,o=null==t?void 0:t.data,l=null==t?void 0:t.totalCount,u=(0,d.G)((function(e){return e.articleFilter.page})),s=(0,d.j)(),f=(0,d.G)((function(e){return e.articleFilter.limit}))||10,h=l?Math.ceil(l/f):1;return n||i?(0,r.jsx)(j.A,{}):a?(0,r.jsx)("p",{children:"Ошибка"}):(0,r.jsx)("div",{className:"QNzhHPm5",children:(null==o?void 0:o.length)?(0,r.jsxs)(w.Fragment,{children:[(0,r.jsx)("div",{className:"hUCM9xHZ",children:o.map((function(e){return(0,r.jsx)(N,L({id:e._id},e),e._id)}))}),(0,r.jsx)("div",{className:"zleIhv8C",children:(0,r.jsx)(P.A,{pageAmount:h,currentPage:u,handleClick:function(e){return function(){s((0,c.Ir)(e)),(0,C.e)()}}})})]}):(0,r.jsx)("p",{children:"Ничего не найдено"})})},E=function(){return(0,r.jsxs)("div",{className:"OPMf_9SX",children:[(0,r.jsx)(y,{}),(0,r.jsx)(i.mO,{children:(0,r.jsx)(S,{})})]})}},3996:(e,t,n)=>{n.d(t,{E6:()=>d,IP:()=>s,jd:()=>f});var r=n(8324),i=n(8023),a=n(6327),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=r.BH.ARTICLES,l=r.BH.CREATE,u=i.s.injectEndpoints({endpoints:function(e){return{fetchAllArticles:e.query({query:function(e){var t=e.limit,n=e.page,r=e.userLogin,i=e.userId,a=e.authUserId,c=e.textQuery,l=e.liked;return{url:"".concat(o,"/?sortByDate=true"),method:"POST",params:{limit:t,page:n,userLogin:r,search:c,liked:l||"",userId:i},body:{authUserId:a||""}}},transformResponse:function(e,t){var n,r,i=null===(r=null===(n=null==t?void 0:t.response)||void 0===n?void 0:n.headers)||void 0===r?void 0:r.get("X-Total-Count");return{data:e,totalCount:i?+i:1}},serializeQueryArgs:function(e){e.endpointName;var t=e.queryArgs;return t.page,c(t,["page"]),{queryArgs:t}},forceRefetch:function(e){var t=e.currentArg,n=e.previousArg;if(!t||!n)return!0;t.page;var r=c(t,["page"]),i=(n.page,c(n,["page"]));return(0,a.A)(r,i)}}),fetchArticleById:e.query({query:function(e){var t=e.id,n=e.userLogin,r=e.authUserId;return{url:"".concat(o,"/").concat(t),method:"POST",params:{userLogin:n},body:{authUserId:r||""}}}}),createArticle:e.mutation({query:function(e){return{url:"".concat(o).concat(l),method:"POST",body:e}}})}}}),s=u.useFetchAllArticlesQuery,d=u.useFetchArticleByIdQuery,f=u.useCreateArticleMutation;u.useLazyFetchAllArticlesQuery,u.useLazyFetchArticleByIdQuery},8788:(e,t,n)=>{n.d(t,{p:()=>d});var r=n(8324),i=n(8023),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},c=r.BH.ARTICLES,o=r.BH.GALLERY,l=r.BH.LIKES,u=i.s.injectEndpoints({endpoints:function(e){return{toggleLike:e.mutation({query:function(e){var t=e.userId,n=e.likedItemId,r=e.endpoint;return{url:"".concat(r).concat(l),method:"POST",body:a(a({userId:t},r===c&&{articleId:n}),r===o&&{galleryimgId:n})}}})}}}).useToggleLikeMutation,s=n(6540),d=function(e,t,n,r){var i=u({fixedCacheKey:r+e}),a=i[0],c=i[1].data,o={userId:t||"",likedItemId:e,endpoint:r},l=(0,s.useState)(n),d=l[0],f=l[1];return(0,s.useEffect)((function(){c&&f(c.liked)}),[c]),{toggleLike:function(){return a(o)},liked:d,like:c}}},6327:(e,t,n)=>{function r(e,t){var n=Object.entries(e),r=Object.entries(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;++i)if(n[i][0]!==r[i][0]||n[i][1]!==r[i][1])return!1;return!0}n.d(t,{A:()=>r})},3049:(e,t,n)=>{n.d(t,{Y:()=>i});var r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],i=function(e,t){var n=new Date(e),i=n.getDate(),a=n.getMonth(),c=n.getFullYear(),o=a<10?"0".concat(a+1):a+1,l=i<10?"0".concat(i):i;switch(t){case"text":return"".concat(i," ").concat(r[a],", ").concat(c);case"date":return"".concat(l,".").concat(o,".").concat(c)}}}}]);
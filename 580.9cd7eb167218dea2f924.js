"use strict";(self.webpackChunkwebpack_react_ts_preset_1=self.webpackChunkwebpack_react_ts_preset_1||[]).push([[580],{3913:(e,r,a)=>{a.d(r,{A:()=>l});var n=a(4848);const t={link:"WWbseSOQ",shadow:"qPf1KUkR",primary:"EhyyJqDL",filled:"yQYZSKm2",secondary:"AoChoFaF",outlined:"XGcduZrw",none:"xge20BlT"};var s=a(4976),c=a(6359),o=function(){return o=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++)for(var t in r=arguments[a])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},o.apply(this,arguments)};const l=function(e){var r=e.variant,a=void 0===r?"filled":r,l=e.color,i=void 0===l?"primary":l,u=e.shadow,d=void 0===u||u,h=e.icon,p=void 0===h?null:h,y=e.className,m=void 0===y?"":y,g=(e.setTopScroll,e.children),v=e.to,f=function(e,r){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(a[n[t]]=e[n[t]])}return a}(e,["variant","color","shadow","icon","className","setTopScroll","children","to"]);return c.e&&(0,c.e)(),(0,n.jsxs)(s.N_,o({to:v,className:[t.link,t[i],t[a],d&&t.shadow,m].join(" ")},f,{children:[p,g]}))}},2865:(e,r,a)=>{a.d(r,{A:()=>t});var n=a(4848);const t=function(){return(0,n.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("title",{}),(0,n.jsx)("g",{"data-name":"Layer 2",id:"Layer_2",children:(0,n.jsx)("path",{d:"M22,9a1,1,0,0,0,0,1.42l4.6,4.6H3.06a1,1,0,1,0,0,2H26.58L22,21.59A1,1,0,0,0,22,23a1,1,0,0,0,1.41,0l6.36-6.36a.88.88,0,0,0,0-1.27L23.42,9A1,1,0,0,0,22,9Z"})})]})}},1580:(e,r,a)=>{a.r(r),a.d(r,{default:()=>w});var n=a(4848),t=a(4303);var s=a(7767),c=a(148),o=a(6540),l=a(3393),i=a(9112),u=a(7494),d=a(4807),h=a(4976);const p="yz7qBlEs",y=function(e){var r=e.hasCard;return(0,n.jsx)("div",{className:"lZWzD3U8",children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"elyNcX1X",children:"Завести карту"}),(0,n.jsx)("p",{className:p,children:"Ваша карта Doggo"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.N_,{to:"",className:"JorWgu27",children:"Завести карту"}),(0,n.jsx)("p",{className:p,children:"У вас еще нет карты Doggo"})]})})},m={userPersonalData:"NPWFx1FJ",name:"UNyu8E0b"};var g=a(3049);const v=function(e){var r=e.user,a=(0,g.Y)(r.registrationDate,"text");return(0,n.jsxs)("div",{className:m.userPersonalData,children:[(0,n.jsxs)("p",{className:m.name,children:[r.name," ",r.surname]}),(0,n.jsx)("p",{className:m.personalDataText,children:r.email}),(0,n.jsx)("p",{className:m.personalDataText,children:r.phone}),(0,n.jsxs)("p",{className:m.personalDataText,children:["В сообществе с ",a]})]})};var f=a(4833);const j={header:"NVNqGC64",sectionTitle:"c83_DvTG",galleryBlock:"M3MgKLms",imgWrap:"wuXhdGu7",allBtn:"d0v4Wpod"};var x=a(3913),N=a(2865),I=a(9377),O=c.Q.Gallery;const b=function(e){var r=e.userId,a=(0,f.VL)({id:r,limit:4,userId:r}),s=a.data,c=a.isLoading,o=a.isFetching,l=a.isError,i=null==s?void 0:s.data,d=(0,t.j)();return c||o?(0,n.jsx)(u.A,{}):l?(0,n.jsx)("p",{children:"Ошибка"}):i&&(0,n.jsx)("div",{className:j.communityInfo,children:(0,n.jsxs)("section",{className:j.gallery,children:[(0,n.jsxs)("header",{className:j.header,children:[(0,n.jsx)("h2",{className:j.sectionTitle,children:"Ваша галерея"}),(0,n.jsx)(x.A,{variant:"none",shadow:!1,to:"/".concat(O),onClick:function(){d((0,I.do)("")),d((0,I.qo)(!0))},children:"Понравившиеся"})]}),(0,n.jsxs)("div",{className:j.galleryBlock,children:[i.map((function(e){return(0,n.jsx)("div",{className:j.imgWrap,children:(0,n.jsx)("img",{src:e.imgLink,alt:"Изображение"})},e._id)})),(0,n.jsxs)(x.A,{to:"/".concat(O),className:j.allBtn,onClick:function(){d((0,I.qo)(!1)),d((0,I.do)(r))},children:["Все",(0,n.jsx)(N.A,{})]})]})]})})},w=function(){var e=(0,s.Zp)(),r=(0,t.G)((function(e){return e.auth.userId}));if((0,o.useEffect)((function(){r||e("/".concat(c.Q.Signin))}),[r]),!r)return null;var a=(0,i.Dp)(r),h=a.data,p=a.isLoading,m=a.isError;return p?(0,n.jsx)(u.A,{}):m?(0,n.jsx)("p",{children:"Ошибка"}):h&&(0,n.jsx)(l.A,{children:(0,n.jsxs)("div",{className:"fd_INTh4",children:[(0,n.jsxs)("div",{className:"moMGtBe3",children:[(0,n.jsxs)("div",{className:"whviXukW",children:[(0,n.jsxs)("div",{className:"NlT_jIdn",children:[(0,n.jsx)("div",{className:"_8lrW2ts",children:(0,n.jsx)("div",{className:"jpqaP2_j",children:(0,n.jsx)(d.A,{})})}),(0,n.jsx)(v,{user:h})]}),(0,n.jsxs)("p",{className:"Gs7qjL3E",children:["@",h.login]})]}),(0,n.jsx)(y,{hasCard:h.hasCard})]}),(0,n.jsx)(b,{userId:r})]})})}},4833:(e,r,a)=>{a.d(r,{VL:()=>u,g0:()=>d});var n=a(6327),t=a(8023),s=a(8324),c=function(e,r){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(a[n[t]]=e[n[t]])}return a},o=s.BH.GALLERY,l=s.BH.CREATE,i=t.s.injectEndpoints({endpoints:function(e){return{fetchAllGalleryImages:e.query({query:function(e){var r=e.limit,a=e.page,n=e.userLogin,t=e.userId,s=e.authUserId,c=e.textQuery,l=e.liked;return{url:"".concat(o),method:"POST",params:{sortByDate:!0,limit:r,page:a,userLogin:n,search:c,liked:l||"",userId:t},body:{authUserId:s}}},transformResponse:function(e,r){var a,n,t=null===(n=null===(a=null==r?void 0:r.response)||void 0===a?void 0:a.headers)||void 0===n?void 0:n.get("X-Total-Count");return{data:e,totalCount:t?+t:1}},serializeQueryArgs:function(e){var r=e.endpointName,a=e.queryArgs,n=(a.page,c(a,["page"]));return JSON.stringify(n)+r},merge:function(e,r,a){var n,t=a.arg,s=a.requestId;1===t.page?e.data=r.data:s&&(n=e.data).push.apply(n,r.data)},forceRefetch:function(e){var r=e.currentArg,a=e.previousArg;if(!r||!a)return!0;var t=r.page,s=c(r,["page"]),o=a.page,l=c(a,["page"]);return(0,n.A)(s,l)&&t!==o}}),fetchGalleryImageById:e.query({query:function(e){return{url:"".concat(o,"/").concat(e)}}}),createGalleryImg:e.mutation({query:function(e){return{url:"".concat(o).concat(l),method:"POST",body:e}}})}}}),u=i.useFetchAllGalleryImagesQuery,d=(i.useFetchGalleryImageByIdQuery,i.useCreateGalleryImgMutation);i.useLazyFetchAllGalleryImagesQuery,i.useLazyFetchGalleryImageByIdQuery},9112:(e,r,a)=>{a.d(r,{Dp:()=>i});var n=a(8023),t=a(8324),s=t.BH.AUTH,c=t.BH.LOGIN,o=t.BH.USERS,l=n.s.injectEndpoints({endpoints:function(e){return{fetchUserLoginData:e.query({query:function(e){return{url:"".concat(s).concat(c),method:"POST",body:e}}}),fetchUserById:e.query({query:function(e){return{url:"".concat(o,"/").concat(e)}}})}}}),i=(l.useFetchUserLoginDataQuery,l.useFetchUserByIdQuery);l.useLazyFetchUserLoginDataQuery,l.useLazyFetchUserByIdQuery},6327:(e,r,a)=>{function n(e,r){var a=Object.entries(e),n=Object.entries(r);if(a.length!==n.length)return!1;for(var t=0;t<a.length;++t)if(a[t][0]!==n[t][0]||a[t][1]!==n[t][1])return!1;return!0}a.d(r,{A:()=>n})},3049:(e,r,a)=>{a.d(r,{Y:()=>t});var n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],t=function(e,r){var a=new Date(e),t=a.getDate(),s=a.getMonth(),c=a.getFullYear(),o=s<10?"0".concat(s+1):s+1,l=t<10?"0".concat(t):t;switch(r){case"text":return"".concat(t," ").concat(n[s],", ").concat(c);case"date":return"".concat(l,".").concat(o,".").concat(c)}}},6359:(e,r,a)=>{a.d(r,{e:()=>n});var n=function(e){void 0===e&&(e="instant"),window.scrollTo({top:0,behavior:e})}}}]);
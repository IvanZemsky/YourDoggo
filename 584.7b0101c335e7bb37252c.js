"use strict";(self.webpackChunkwebpack_react_ts_preset_1=self.webpackChunkwebpack_react_ts_preset_1||[]).push([[584],{3913:(e,r,s)=>{s.d(r,{A:()=>o});var n=s(4848);const t={link:"WWbseSOQ",shadow:"qPf1KUkR",primary:"EhyyJqDL",filled:"yQYZSKm2",secondary:"AoChoFaF",outlined:"XGcduZrw",none:"xge20BlT"};var a=s(4976),c=s(211),i=function(){return i=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++)for(var t in r=arguments[s])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},i.apply(this,arguments)};const o=function(e){var r=e.variant,s=void 0===r?"filled":r,o=e.color,l=void 0===o?"primary":o,d=e.shadow,u=void 0===d||d,m=e.icon,h=void 0===m?null:m,p=e.className,v=void 0===p?"":p,f=(e.setTopScroll,e.children),j=e.to,y=function(e,r){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(s[n[t]]=e[n[t]])}return s}(e,["variant","color","shadow","icon","className","setTopScroll","children","to"]);return c.e&&(0,c.e)(),(0,n.jsxs)(a.N_,i({to:j,className:[t.link,t[l],t[s],u&&t.shadow,v].join(" ")},y,{children:[h,f]}))}},2865:(e,r,s)=>{s.d(r,{A:()=>t});var n=s(4848);const t=function(){return(0,n.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("title",{}),(0,n.jsx)("g",{"data-name":"Layer 2",id:"Layer_2",children:(0,n.jsx)("path",{d:"M22,9a1,1,0,0,0,0,1.42l4.6,4.6H3.06a1,1,0,1,0,0,2H26.58L22,21.59A1,1,0,0,0,22,23a1,1,0,0,0,1.41,0l6.36-6.36a.88.88,0,0,0,0-1.27L23.42,9A1,1,0,0,0,22,9Z"})})]})}},5898:(e,r,s)=>{s.d(r,{A:()=>t});var n=s(4848);const t=function(){return(0,n.jsxs)("svg",{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{fill:"none",height:"256",width:"256"}),(0,n.jsx)("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})}},1549:(e,r,s)=>{s.d(r,{L:()=>n});var n=[{name:"all",value:"Все"},{name:"food",value:"Корм и лакомства"},{name:"leashesAndCollars",value:"Поводки и ошейники"},{name:"toys",value:"Игрушки"},{name:"care",value:"Забота и уход"}]},211:(e,r,s)=>{s.d(r,{e:()=>n});var n=function(e){void 0===e&&(e="instant"),window.scrollTo({top:0,behavior:e})}},6584:(e,r,s)=>{s.r(r),s.d(r,{default:()=>k});var n=s(4848),t=s(3393);var a=s(9243),c=s(7767),i=s(7494);const o=function(e){var r=e.parameters;return(0,n.jsx)(n.Fragment,{children:r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{className:"p1lurThx",children:"О товаре"}),(0,n.jsx)("table",{className:"Zw48htN4",children:(0,n.jsx)("tbody",{children:r.map((function(e){var r=e[0],s=e[1];return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:r}),(0,n.jsx)("td",{children:s})]},r)}))})})]})})};var l=s(6540);const d=(0,l.memo)((function(e){var r=e.name,s=e.description,t=e.parameters;return(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("h2",{className:"zytTsttm",children:r}),(0,n.jsx)("p",{className:"AEFCXygE",children:s}),(0,n.jsx)(o,{parameters:t})]})}));var u=s(8324),m=s(2374);const h={cardDiscount:"ILn2ch5d",discount:"l4o6iGj9",cardDiscountLabel:"gp3bFFpm",priceWrap:"F8OUgpxD",price:"JA0mZAfK",priceWithoutCard:"aZlIduav",info:"BT18um1_",addBtn:"vxFgHL0V",cartLink:"bPeUlhbx",favouriteBtn:"b4_wPZrU",inFavourites:"yA_2BCMT",buttons:"Gu8vNs4k",deliveryInfo:"afVGV0aV",deliveryTitle:"chK9MyW0",setDataLink:"l_S39kvF",content:"nfSROruF"};var p=s(4303),v=s(9395),f=s(2865),j=s(3913),y=s(5898),x=s(1349),g=s(4976);const N=function(e){var r=e.product,s=(0,p.j)(),t=(0,p.G)((function(e){return e.cart.products})),a=(0,p.G)((function(e){return e.favourites.favourites})),c=t.some((function(e){return e._id===r._id})),i=.89*r.price;i=Number.isInteger(i)?i:+i.toFixed(1);var o=a.includes(r._id),l=[h.favouriteBtn,o?h.inFavourites:""].join(" ");return(0,n.jsx)("div",{className:h.order,children:(0,n.jsxs)("div",{className:h.content,children:[(0,n.jsxs)("div",{className:h.info,children:[(0,n.jsxs)("div",{className:h.cardDiscount,children:[(0,n.jsxs)("p",{className:h.discount,children:[i," ₽"]}),(0,n.jsx)("p",{className:h.cardDiscountLabel,children:"С картой YoDoggo"})]}),(0,n.jsxs)("div",{className:h.priceWrap,children:[(0,n.jsxs)("p",{className:h.price,children:[r.price," ₽"]}),(0,n.jsx)("p",{className:h.priceWithoutCard,children:"(Без карты)"})]}),(0,n.jsxs)("div",{className:h.buttons,children:[c?(0,n.jsxs)(j.A,{to:"/shop/cart",className:h.cartLink,children:["В корзине",(0,n.jsx)(f.A,{})]}):(0,n.jsx)(m.A,{className:h.addBtn,color:"secondary",variant:"filled",onClick:function(){s((0,v.Bj)(r))},children:"Добавить в корзину"}),(0,n.jsx)(m.A,{className:l,icon:(0,n.jsx)(y.A,{}),onClick:function(){s((0,x.n)(r._id))}})]})]}),(0,n.jsxs)("div",{className:h.deliveryInfo,children:[(0,n.jsx)("h4",{className:h.deliveryTitle,children:"Информация о доставке"}),(0,n.jsx)(g.N_,{to:"",className:h.setDataLink,children:"Укажите информацию о пункте получения, чтобы увидеть время и прочие данные"})]})]})})},b=function(e){var r=e.img;return(0,n.jsx)("div",{className:"db4fm7Xv",children:(0,n.jsx)("img",{src:r,alt:"Изображение товара"})})};var A=s(211),w=s(3880),P=s(2466);const O={similarProducts:"d1ePUZQL",more:"EVepJGK3",moreLabel:"ebl3_A_v"};var _=s(1549),L=s(5522);const C=function(e){var r=e.id,s=e.productCategory,t=(0,p.j)(),c=(0,a.Vf)(s),i=c.data,o=c.isLoading;return c.isError?(0,n.jsx)("p",{children:"Ошибка!"}):(0,n.jsxs)("div",{className:O.similar,children:[(0,n.jsx)("h2",{className:O.similarTitle,children:"Похожее"}),o&&(0,n.jsx)(P.A,{limit:10}),i&&(0,n.jsxs)("div",{className:O.similarProducts,children:[i.map((function(e){return e._id!==r&&(0,n.jsx)(w.A,{id:e._id,category:e.category,name:e.name,description:e.description,price:e.price,img:e.img},e._id)})),(0,n.jsxs)(g.N_,{to:"/shop",className:O.more,onClick:function(){var e=_.L.find((function(e){return e.name===s}));t((0,L.Fb)(e.name))},children:[(0,n.jsx)("p",{className:O.moreLabel,children:"Больше"}),(0,n.jsx)(f.A,{})]})]})]})},k=function(){var e,r,s=(0,c.g)().id,o=(0,a.d4)(s),m=o.data,h=o.isLoading,p=o.isError;e=[m],void 0===(r="smooth")&&(r="instant"),(0,l.useEffect)((function(){(0,A.e)(r)}),e);var v=(0,l.useMemo)((function(){return m?Object.entries(m.details).map((function(e){var r=e[0],s=e[1];return[u.SC[r]||r,s]})):[]}),[m]);return h?(0,n.jsx)(i.A,{}):p?(0,n.jsx)("p",{children:"Ошибка :("}):(0,n.jsx)(t.A,{children:m&&(0,n.jsxs)("div",{className:"gE_tyZu1",children:[(0,n.jsxs)("div",{className:"zOs4pByi",children:[(0,n.jsxs)("div",{className:"h3H3gmUB",children:[(0,n.jsx)(b,{img:m.img}),(0,n.jsx)(d,{name:m.name,description:m.description,parameters:v})]}),(0,n.jsx)(N,{product:m})]}),(0,n.jsx)(C,{id:m._id,productCategory:m.category})]})})}},3880:(e,r,s)=>{s.d(r,{A:()=>c});var n=s(4848),t=s(4976);var a=s(1549);const c=(0,s(6540).memo)((function(e){var r,s,c=e.id,i=e.name,o=e.category,l=e.description,d=e.price,u=e.img,m=(r=o,(s=a.L.find((function(e){return e.name===r})))?s.value:"другое");return(0,n.jsx)(t.N_,{to:"/shop/".concat(c),children:(0,n.jsxs)("div",{className:"suwGZlwT",children:[(0,n.jsxs)("div",{className:"TZUiCYt8",children:[(0,n.jsx)("p",{className:"e9MoX2IC",children:m}),(0,n.jsx)("img",{src:u,alt:"Обложка"})]}),(0,n.jsxs)("div",{className:"_bGspT5k",children:[(0,n.jsx)("p",{className:"InYorDwc",children:i}),(0,n.jsx)("p",{className:"CMLo1tra",children:l}),(0,n.jsxs)("p",{className:"YC_SocrO",children:[d," ₽"]})]})]})})}))},2466:(e,r,s)=>{s.d(r,{A:()=>t});var n=s(4848);const t=function(e){var r=e.limit,s=Array.from({length:r},(function(e,r){return(0,n.jsx)("div",{className:"KKSNkqYG"},r)}));return(0,n.jsx)("div",{className:"plQqWGqc",children:s})}},9243:(e,r,s)=>{s.d(r,{N0:()=>d,Vf:()=>m,d4:()=>u});var n=s(2963),t=s(8023),a=s(8324),c=function(e,r){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(s[n[t]]=e[n[t]])}return s},i=a.BH.PRODUCTS,o=a.BH.CATEGORIES,l=t.s.injectEndpoints({endpoints:function(e){return{fetchAllProducts:e.query({query:function(e){var r=e.page,s=e.limit,n=e.textQuery,t=e.category,a=e.minPrice,c=e.maxPrice;return{url:"".concat(i),params:{search:n,category:t,minPrice:a,maxPrice:c,page:r,limit:s}}},transformResponse:function(e,r){var s,n,t=null===(n=null===(s=null==r?void 0:r.response)||void 0===s?void 0:s.headers)||void 0===n?void 0:n.get("X-Total-Count");return{data:e,totalCount:t?+t:1}},serializeQueryArgs:function(e){e.endpointName;var r=e.queryArgs;return r.page,c(r,["page"]),{queryArgs:r}},forceRefetch:function(e){var r=e.currentArg,s=e.previousArg;if(!r||!s)return!0;r.page;var t=c(r,["page"]),a=(s.page,c(s,["page"]));return(0,n.A)(t,a)}}),fetchProductById:e.query({query:function(e){return{url:"".concat(i,"/").concat(e)}}}),fetchProductsByIds:e.query({query:function(e){return{url:"".concat(i),method:"POST",body:{ids:e}}}}),fetchProductsByCategory:e.query({query:function(e){return{url:"".concat(i).concat(o,"/").concat(e)}}})}}}),d=l.useFetchAllProductsQuery,u=l.useFetchProductByIdQuery,m=l.useFetchProductsByCategoryQuery;l.useFetchProductsByIdsQuery,l.useLazyFetchAllProductsQuery,l.useLazyFetchProductByIdQuery,l.useLazyFetchProductsByCategoryQuery,l.useLazyFetchProductsByIdsQuery}}]);
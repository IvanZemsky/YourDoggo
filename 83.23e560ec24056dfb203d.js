"use strict";(self.webpackChunkyourdoggo=self.webpackChunkyourdoggo||[]).push([[83],{5904:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(4848);var a=t(9913);const o=function(e){var r=e.input,t=e.children;return(0,n.jsx)("header",{className:"Kw0QhqY2",children:(0,n.jsx)(a.mO,{children:(0,n.jsxs)("div",{className:"uMYuABUa",children:[r,(0,n.jsx)("div",{className:"bihhdsiy",children:t})]})})})}},7963:(e,r,t)=>{t.d(r,{A:()=>c});var n=t(4848),a=t(780);const o={button:"aI5ByLm8",active:"K7Nm01XW"},c=function(e){var r=e.currentPage,t=e.pageAmount,c=e.handleClick,u=Array.from({length:t},(function(e,r){return r+1})),s=function(e){return[o.button,r===e?o.active:void 0].join(" ")};return(0,n.jsx)(n.Fragment,{children:u.map((function(e){return(0,n.jsx)(a.$,{onClick:c(e),className:s(e),children:e},e)}))})}},83:(e,r,t)=>{t.r(r),t.d(r,{default:()=>C});var n=t(4848);var a=t(7494),o=t(6540),c=t(7963),u=t(4303),s=t(1711),i=t(6359);var l=t(9913),d=t(148),m=t(3049),g=d.Q.Forum,h=d.Q.User;const f=function(e){var r=e.id,t=e.title,a=(e.description,e.datetime),o=e.userId,c=e.login,u=(0,m.Y)(a,"text");return(0,n.jsxs)("div",{className:"sMgFZPhd",children:[(0,n.jsx)("p",{className:"jRbp1IIV",children:t}),(0,n.jsxs)("div",{className:"TYlBuVCf",children:[(0,n.jsxs)(l.Ek,{variant:"none",shadow:!1,to:"/".concat(h,"/").concat(o),children:["@",c]}),(0,n.jsx)("time",{dateTime:a,children:u})]}),(0,n.jsx)(l.Ek,{to:"/".concat(g,"/").concat(r),shadow:!1,className:"fYLt7N9b",children:"Перейти"})]})};var p=t(9358),v=function(){return v=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},v.apply(this,arguments)};const y=function(){var e,r=(e=(0,u.G)((function(e){return e.forumFilter})),(0,p.cL)(e)),t=r.data,l=r.isLoading,d=r.isFetching,m=r.isError,g=null==t?void 0:t.data,h=null==t?void 0:t.totalCount,y=(0,u.G)((function(e){return e.forumFilter.page}))||1,j=(0,u.j)(),x=(0,u.G)((function(e){return e.forumFilter.limit}))||9,F=h?Math.ceil(h/x):1;return l||d?(0,n.jsx)(a.A,{}):m?(0,n.jsx)("p",{children:"Ошибка"}):(0,n.jsx)("div",{className:"acqDTTnO",children:(null==g?void 0:g.length)?(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)("div",{className:"zuuqdlQQ",children:g.map((function(e){return(0,n.jsx)(f,v({id:e._id},e),e._id)}))}),(0,n.jsx)("div",{className:"UEidxOlJ",children:(0,n.jsx)(c.A,{pageAmount:F,currentPage:y,handleClick:function(e){return function(){j((0,s.Ir)(e)),(0,i.e)()}}})})]}):(0,n.jsx)("p",{children:"Ничего не найдено"})})};var j=t(5904),x=t(3121),F=t(6231);var A=d.Q.Forum,O=d.Q.Create;const b=function(){var e=(0,F.Ub)({maxWidth:950});return(0,n.jsx)(j.A,{input:(0,n.jsx)(l.DO,{dispatchFunc:s.Ud}),children:(0,n.jsx)(l.W1,{isOpen:e,children:(0,n.jsx)(l.Ek,{to:"/".concat(A,"/").concat(O),icon:(0,n.jsx)(x.c1,{}),className:"cxvUt0rL",children:"Добавить"})})})},C=function(){return(0,n.jsxs)("div",{className:"mrhoPsAZ",children:[(0,n.jsx)(b,{}),(0,n.jsx)(l.mO,{children:(0,n.jsx)(y,{})})]})}},9358:(e,r,t)=>{t.d(r,{Nn:()=>f,UF:()=>m,VP:()=>g,cL:()=>d,vb:()=>h});var n=t(8324),a=t(6327),o=t(8023),c=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]])}return t},u=n.BH.FORUM,s=n.BH.COMMENTS,i=n.BH.CREATE,l=o.s.injectEndpoints({endpoints:function(e){return{fetchAllForumMessages:e.query({query:function(e){var r=e.page,t=e.limit,n=e.textQuery;return{url:"".concat(u),params:{sortByDate:!0,search:n,page:r,limit:t,userLogin:!0}}},transformResponse:function(e,r){var t,n,a=null===(n=null===(t=null==r?void 0:r.response)||void 0===t?void 0:t.headers)||void 0===n?void 0:n.get("X-Total-Count");return{data:e,totalCount:a?+a:1}},serializeQueryArgs:function(e){e.endpointName;var r=e.queryArgs;return r.page,c(r,["page"]),{queryArgs:r}},forceRefetch:function(e){var r=e.currentArg,t=e.previousArg;if(!r||!t)return!0;r.page;var n=c(r,["page"]),o=(t.page,c(t,["page"]));return(0,a.A)(n,o)}}),fetchForumMessageById:e.query({query:function(e){return{url:"".concat(u,"/").concat(e),params:{userLogin:!0}}}}),fetchForumCommentsByMessage:e.query({query:function(e){var r=e.id,t=e.page,n=e.limit;return{url:"".concat(u,"/").concat(r).concat(s),params:{limit:n,page:t,userLogin:!0}}},transformResponse:function(e,r){var t,n,a=null===(n=null===(t=null==r?void 0:r.response)||void 0===t?void 0:t.headers)||void 0===n?void 0:n.get("X-Total-Count");return{data:e,totalCount:a?+a:1}},serializeQueryArgs:function(e){var r=e.endpointName,t=e.queryArgs,n=(t.page,c(t,["page"]));return JSON.stringify(n)+r},merge:function(e,r,t){var n,a=t.arg,o=t.requestId;1===a.page?e.data=r.data:o&&(n=e.data).push.apply(n,r.data)},forceRefetch:function(e){var r=e.currentArg,t=e.previousArg;if(!r||!t)return!0;var n=r.page,o=c(r,["page"]),u=t.page,s=c(t,["page"]);return(0,a.A)(o,s)&&n!==u}}),createForumMessage:e.mutation({invalidatesTags:["ForumMessage"],query:function(e){return{url:"".concat(u).concat(i),method:"POST",body:e}}}),createForumComment:e.mutation({query:function(e){return{url:"".concat(u).concat(s).concat(i),method:"POST",body:e}}})}}}),d=l.useFetchAllForumMessagesQuery,m=l.useFetchForumMessageByIdQuery,g=l.useFetchForumCommentsByMessageQuery,h=l.useCreateForumCommentMutation,f=l.useCreateForumMessageMutation;l.useLazyFetchAllForumMessagesQuery,l.useLazyFetchForumCommentsByMessageQuery},6327:(e,r,t)=>{function n(e,r){var t=Object.entries(e),n=Object.entries(r);if(t.length!==n.length)return!1;for(var a=0;a<t.length;++a)if(t[a][0]!==n[a][0]||t[a][1]!==n[a][1])return!1;return!0}t.d(r,{A:()=>n})},3049:(e,r,t)=>{t.d(r,{Y:()=>a});var n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],a=function(e,r){var t=new Date(e),a=t.getDate(),o=t.getMonth(),c=t.getFullYear(),u=o<10?"0".concat(o+1):o+1,s=a<10?"0".concat(a):a;switch(r){case"text":return"".concat(a," ").concat(n[o],", ").concat(c);case"date":return"".concat(s,".").concat(u,".").concat(c)}}}}]);
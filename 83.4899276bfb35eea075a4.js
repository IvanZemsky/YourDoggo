"use strict";(self.webpackChunkwebpack_react_ts_preset_1=self.webpackChunkwebpack_react_ts_preset_1||[]).push([[83],{5904:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(4848);var a=r(3393);const o=function(e){var t=e.input,r=e.children;return(0,n.jsx)("header",{className:"Kw0QhqY2",children:(0,n.jsx)(a.A,{children:(0,n.jsxs)("div",{className:"uMYuABUa",children:[t,(0,n.jsx)("div",{className:"bihhdsiy",children:r})]})})})}},7963:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(4848),a=r(2374);const o={button:"aI5ByLm8",active:"K7Nm01XW"},s=function(e){var t=e.currentPage,r=e.pageAmount,s=e.handleClick,c=Array.from({length:r},(function(e,t){return t+1})),i=function(e){return[o.button,t===e?o.active:void 0].join(" ")};return(0,n.jsx)(n.Fragment,{children:c.map((function(e){return(0,n.jsx)(a.A,{onClick:s(e),className:i(e),children:e},e)}))})}},3913:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(4848);const a={link:"WWbseSOQ",shadow:"qPf1KUkR",primary:"EhyyJqDL",filled:"yQYZSKm2",secondary:"AoChoFaF",outlined:"XGcduZrw",none:"xge20BlT"};var o=r(4976),s=r(211),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const i=function(e){var t=e.variant,r=void 0===t?"filled":t,i=e.color,u=void 0===i?"primary":i,l=e.shadow,d=void 0===l||l,p=e.icon,v=void 0===p?null:p,m=e.className,h=void 0===m?"":m,f=(e.setTopScroll,e.children),g=e.to,y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["variant","color","shadow","icon","className","setTopScroll","children","to"]);return s.e&&(0,s.e)(),(0,n.jsxs)(o.N_,c({to:g,className:[a.link,a[u],a[r],d&&a.shadow,h].join(" ")},y,{children:[v,f]}))}},3429:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(4848),a=r(4303),o=r(2374);const s=function(){return(0,n.jsxs)("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("title",{}),(0,n.jsx)("path",{d:"M456.69,421.39,362.6,327.3a173.81,173.81,0,0,0,34.84-104.58C397.44,126.38,319.06,48,222.72,48S48,126.38,48,222.72s78.38,174.72,174.72,174.72A173.81,173.81,0,0,0,327.3,362.6l94.09,94.09a25,25,0,0,0,35.3-35.3ZM97.92,222.72a124.8,124.8,0,1,1,124.8,124.8A124.95,124.95,0,0,1,97.92,222.72Z"})]})};var c=r(6540);const i=(0,c.memo)((function(e){var t=e.dispatchFunc,r=e.defaultValue,i=void 0===r?"":r,u=(0,a.j)(),l=(0,c.useState)(i),d=l[0],p=l[1];return(0,c.useEffect)((function(){p(i)}),[i]),(0,n.jsxs)("div",{className:"GY_Ndh9z",children:[(0,n.jsx)("input",{type:"text",className:"xe0Pw4gw",onChange:function(e){p(e.target.value)},value:d,placeholder:"Поиск"}),(0,n.jsx)(o.A,{variant:"outlined",icon:(0,n.jsx)(s,{}),className:"owRk9PLZ",onClick:function(){u(t(d))}})]})}))},2226:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(4848);const a=function(){return(0,n.jsxs)("svg",{viewBox:"0 0 68 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M0 34C0 31.7909 1.79086 30 4 30H64C66.2091 30 68 31.7909 68 34C68 36.2091 66.2091 38 64 38H4C1.79086 38 0 36.2091 0 34Z"}),(0,n.jsx)("path",{d:"M34 68C31.7909 68 30 66.2091 30 64V4C30 1.79086 31.7909 0 34 0C36.2091 0 38 1.79086 38 4V64C38 66.2091 36.2091 68 34 68Z"})]})}},8413:(e,t,r)=>{r.d(t,{Y:()=>a});var n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],a=function(e,t){var r=new Date(e),a=r.getDate(),o=r.getMonth(),s=r.getFullYear(),c=o<10?"0".concat(o+1):o+1,i=a<10?"0".concat(a):a;switch(t){case"text":return"".concat(a," ").concat(n[o],", ").concat(s);case"date":return"".concat(i,".").concat(c,".").concat(s)}}},211:(e,t,r)=>{r.d(t,{e:()=>n});var n=function(e){void 0===e&&(e="instant"),window.scrollTo({top:0,behavior:e})}},83:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var n=r(4848);var a=r(7494),o=r(6540),s=r(7963),c=r(4303),i=r(1711),u=r(211);var l=r(3913),d=r(148),p=r(8413),v=d.Q.Forum,m=d.Q.User;const h=function(e){var t=e.id,r=e.title,a=(e.description,e.datetime),o=e.userId,s=e.login,c=(0,p.Y)(a,"text");return(0,n.jsxs)("div",{className:"sMgFZPhd",children:[(0,n.jsx)("p",{className:"jRbp1IIV",children:r}),(0,n.jsxs)("div",{className:"TYlBuVCf",children:[(0,n.jsxs)(l.A,{variant:"none",shadow:!1,to:"/".concat(m,"/").concat(o),children:["@",s]}),(0,n.jsx)("time",{dateTime:a,children:c})]}),(0,n.jsx)(l.A,{to:"/".concat(v,"/").concat(t),shadow:!1,className:"fYLt7N9b",children:"Перейти"})]})};var f=r(9358),g=function(){return g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)};const y=function(){var e,t=(e=(0,c.G)((function(e){return e.forumFilter})),(0,f.cL)(e)),r=t.data,l=t.isLoading,d=t.isFetching,p=t.isError,v=null==r?void 0:r.data,m=null==r?void 0:r.totalCount,y=(0,c.G)((function(e){return e.forumFilter.page}))||1,j=(0,c.j)(),x=(0,c.G)((function(e){return e.forumFilter.limit}))||9,A=m?Math.ceil(m/x):1;return l||d?(0,n.jsx)(a.A,{}):p?(0,n.jsx)("p",{children:"Ошибка"}):(0,n.jsx)("div",{className:"acqDTTnO",children:(null==v?void 0:v.length)?(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)("div",{className:"zuuqdlQQ",children:v.map((function(e){return(0,n.jsx)(h,g({id:e._id},e),e._id)}))}),(0,n.jsx)("div",{className:"UEidxOlJ",children:(0,n.jsx)(s.A,{pageAmount:A,currentPage:y,handleClick:function(e){return function(){j((0,i.Ir)(e)),(0,u.e)()}}})})]}):(0,n.jsx)("p",{children:"Ничего не найдено"})})};var j=r(3393),x=r(5904),A=r(7005),w=r(3429),C=r(2226),F=r(6231);var b=d.Q.Forum,O=d.Q.Create;const N=function(){var e=(0,F.Ub)({maxWidth:950});return(0,n.jsx)(x.A,{input:(0,n.jsx)(w.A,{dispatchFunc:i.Ud}),children:(0,n.jsx)(A.A,{isOpen:e,children:(0,n.jsx)(l.A,{to:"/".concat(b,"/").concat(O),icon:(0,n.jsx)(C.A,{}),className:"cxvUt0rL",children:"Добавить"})})})},M=function(){return(0,n.jsxs)("div",{className:"mrhoPsAZ",children:[(0,n.jsx)(N,{}),(0,n.jsx)(j.A,{children:(0,n.jsx)(y,{})})]})}},9358:(e,t,r)=>{r.d(t,{UF:()=>p,VP:()=>v,cL:()=>d,vb:()=>m});var n=r(8324),a=r(2963),o=r(8023),s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},c=n.BH.FORUM,i=n.BH.COMMENTS,u=n.BH.CREATE,l=o.s.injectEndpoints({endpoints:function(e){return{fetchAllForumMessages:e.query({query:function(e){var t=e.page,r=e.limit,n=e.textQuery;return{url:"".concat(c),params:{sortByDate:!0,search:n,page:t,limit:r,userLogin:!0}}},transformResponse:function(e,t){var r,n,a=null===(n=null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.headers)||void 0===n?void 0:n.get("X-Total-Count");return{data:e,totalCount:a?+a:1}},serializeQueryArgs:function(e){e.endpointName;var t=e.queryArgs;return t.page,s(t,["page"]),{queryArgs:t}},forceRefetch:function(e){var t=e.currentArg,r=e.previousArg;if(!t||!r)return!0;t.page;var n=s(t,["page"]),o=(r.page,s(r,["page"]));return(0,a.A)(n,o)}}),fetchForumMessageById:e.query({query:function(e){return{url:"".concat(c,"/").concat(e),params:{userLogin:!0}}}}),fetchForumCommentsByMessage:e.query({providesTags:["ForumComment"],query:function(e){var t=e.id,r=e.page,n=e.limit;return{url:"".concat(c,"/").concat(t).concat(i),params:{sortByDate:!0,limit:n,page:r,userLogin:!0}}},transformResponse:function(e,t){var r,n,a=null===(n=null===(r=null==t?void 0:t.response)||void 0===r?void 0:r.headers)||void 0===n?void 0:n.get("X-Total-Count");return{data:e,totalCount:a?+a:1}},serializeQueryArgs:function(e){var t=e.endpointName,r=e.queryArgs,n=(r.page,s(r,["page"]));return JSON.stringify(n)+t},merge:function(e,t,r){var n,a=r.arg,o=r.requestId;1===a.page?e.data=t.data:o&&(n=e.data).push.apply(n,t.data)},forceRefetch:function(e){var t=e.currentArg,r=e.previousArg;if(!t||!r)return!0;var n=t.page,o=s(t,["page"]),c=r.page,i=s(r,["page"]);return(0,a.A)(o,i)&&n!==c}}),createForumMessage:e.mutation({query:function(e){return{url:"".concat(c).concat(u),method:"POST",body:e}}}),createForumComment:e.mutation({invalidatesTags:["ForumComment"],query:function(e){return{url:"".concat(c).concat(i).concat(u),method:"POST",body:e}}})}}}),d=l.useFetchAllForumMessagesQuery,p=l.useFetchForumMessageByIdQuery,v=l.useFetchForumCommentsByMessageQuery,m=l.useCreateForumCommentMutation;l.useCreateForumMessageMutation,l.useLazyFetchAllForumMessagesQuery,l.useLazyFetchForumCommentsByMessageQuery}}]);
"use strict";(self.webpackChunkwebpack_react_ts_preset_1=self.webpackChunkwebpack_react_ts_preset_1||[]).push([[910],{3913:(e,r,t)=>{t.d(r,{A:()=>l});var a=t(4848);const n={link:"WWbseSOQ",shadow:"qPf1KUkR",primary:"EhyyJqDL",filled:"yQYZSKm2",secondary:"AoChoFaF",outlined:"XGcduZrw",none:"xge20BlT"};var s=t(4976),c=t(6359),o=function(){return o=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},o.apply(this,arguments)};const l=function(e){var r=e.variant,t=void 0===r?"filled":r,l=e.color,i=void 0===l?"primary":l,u=e.shadow,d=void 0===u||u,h=e.icon,y=void 0===h?null:h,p=e.className,f=void 0===p?"":p,g=(e.setTopScroll,e.children),m=e.to,v=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]])}return t}(e,["variant","color","shadow","icon","className","setTopScroll","children","to"]);return c.e&&(0,c.e)(),(0,a.jsxs)(s.N_,o({to:m,className:[n.link,n[i],n[t],d&&n.shadow,f].join(" ")},v,{children:[y,g]}))}},2865:(e,r,t)=>{t.d(r,{A:()=>n});var a=t(4848);const n=function(){return(0,a.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("title",{}),(0,a.jsx)("g",{"data-name":"Layer 2",id:"Layer_2",children:(0,a.jsx)("path",{d:"M22,9a1,1,0,0,0,0,1.42l4.6,4.6H3.06a1,1,0,1,0,0,2H26.58L22,21.59A1,1,0,0,0,22,23a1,1,0,0,0,1.41,0l6.36-6.36a.88.88,0,0,0,0-1.27L23.42,9A1,1,0,0,0,22,9Z"})})]})}},3910:(e,r,t)=>{t.r(r),t.d(r,{default:()=>N});var a=t(4848),n=t(7494),s=t(3393),c=t(4807),o=t(148),l=t(4303),i=t(9112),u=t(6540),d=t(7767);const h={userPersonalData:"dgNi5Zy0",name:"OkZrFeW4"};var y=t(3049);const p=function(e){var r=e.user,t=(0,y.Y)(r.registrationDate,"text");return(0,a.jsxs)("div",{className:h.userPersonalData,children:[(0,a.jsxs)("p",{className:h.name,children:[r.name," ",r.surname]}),(0,a.jsx)("p",{className:h.personalDataText,children:r.email}),(0,a.jsx)("p",{className:h.personalDataText,children:r.phone}),(0,a.jsxs)("p",{className:h.personalDataText,children:["В сообществе с ",t]})]})};var f=t(4833);const g={header:"Fm4Tzd3h",sectionTitle:"_BLn8thn",galleryBlock:"ALRNMLZQ",imgWrap:"iIkC9I6O",allBtn:"GHXEet5L"};var m=t(3913),v=t(2865),j=t(9377),x=o.Q.Gallery;const O=function(e){var r=e.userId,t=(0,f.VL)({id:r,limit:4,userId:r}),s=t.data,c=t.isLoading,o=t.isFetching,i=t.isError,u=null==s?void 0:s.data,d=(0,l.j)();return c||o?(0,a.jsx)(n.A,{}):i?(0,a.jsx)("p",{children:"Ошибка"}):u&&(0,a.jsx)("div",{className:g.communityInfo,children:(0,a.jsxs)("section",{className:g.gallery,children:[(0,a.jsx)("header",{className:g.header,children:(0,a.jsx)("h2",{className:g.sectionTitle,children:"Галерея"})}),(0,a.jsxs)("div",{className:g.galleryBlock,children:[u.map((function(e){return(0,a.jsx)("div",{className:g.imgWrap,children:(0,a.jsx)("img",{src:e.imgLink,alt:"Изображение"})},e._id)})),(0,a.jsxs)(m.A,{to:"/".concat(x),className:g.allBtn,onClick:function(){d((0,j.qo)(!1)),d((0,j.do)(r))},children:["Все",(0,a.jsx)(v.A,{})]})]})]})})};var I=o.Q.Profile;const N=function(){var e=(0,d.Zp)(),r=(0,l.G)((function(e){return e.auth.userId})),t=(0,d.g)().userId;if((0,u.useEffect)((function(){t===r&&e("/".concat(I))}),[t]),!t)return null;var o=(0,i.Dp)(t),h=o.data,y=o.isLoading,f=o.isError;return y?(0,a.jsx)(n.A,{}):f?(0,a.jsx)("p",{children:"Ошибка"}):h&&(0,a.jsx)(s.A,{children:(0,a.jsxs)("div",{className:"KpgZsYeQ",children:[(0,a.jsx)("div",{className:"A7t8OGvf",children:(0,a.jsxs)("div",{className:"tePLjSac",children:[(0,a.jsxs)("div",{className:"ucsf41zV",children:[(0,a.jsx)("div",{className:"E7nDg9kD",children:(0,a.jsx)("div",{className:"DyfAuxtl",children:(0,a.jsx)(c.A,{})})}),(0,a.jsx)(p,{user:h})]}),(0,a.jsxs)("p",{className:"aTTrIhUW",children:["@",h.login]})]})}),(0,a.jsx)(O,{userId:t})]})})}},4833:(e,r,t)=>{t.d(r,{VL:()=>u,g0:()=>d});var a=t(6327),n=t(8023),s=t(8324),c=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(t[a[n]]=e[a[n]])}return t},o=s.BH.GALLERY,l=s.BH.CREATE,i=n.s.injectEndpoints({endpoints:function(e){return{fetchAllGalleryImages:e.query({query:function(e){var r=e.limit,t=e.page,a=e.userLogin,n=e.userId,s=e.authUserId,c=e.textQuery,l=e.liked;return{url:"".concat(o),method:"POST",params:{sortByDate:!0,limit:r,page:t,userLogin:a,search:c,liked:l||"",userId:n},body:{authUserId:s}}},transformResponse:function(e,r){var t,a,n=null===(a=null===(t=null==r?void 0:r.response)||void 0===t?void 0:t.headers)||void 0===a?void 0:a.get("X-Total-Count");return{data:e,totalCount:n?+n:1}},serializeQueryArgs:function(e){var r=e.endpointName,t=e.queryArgs,a=(t.page,c(t,["page"]));return JSON.stringify(a)+r},merge:function(e,r,t){var a,n=t.arg,s=t.requestId;1===n.page?e.data=r.data:s&&(a=e.data).push.apply(a,r.data)},forceRefetch:function(e){var r=e.currentArg,t=e.previousArg;if(!r||!t)return!0;var n=r.page,s=c(r,["page"]),o=t.page,l=c(t,["page"]);return(0,a.A)(s,l)&&n!==o}}),fetchGalleryImageById:e.query({query:function(e){return{url:"".concat(o,"/").concat(e)}}}),createGalleryImg:e.mutation({query:function(e){return{url:"".concat(o).concat(l),method:"POST",body:e}}})}}}),u=i.useFetchAllGalleryImagesQuery,d=(i.useFetchGalleryImageByIdQuery,i.useCreateGalleryImgMutation);i.useLazyFetchAllGalleryImagesQuery,i.useLazyFetchGalleryImageByIdQuery},9112:(e,r,t)=>{t.d(r,{Dp:()=>i});var a=t(8023),n=t(8324),s=n.BH.AUTH,c=n.BH.LOGIN,o=n.BH.USERS,l=a.s.injectEndpoints({endpoints:function(e){return{fetchUserLoginData:e.query({query:function(e){return{url:"".concat(s).concat(c),method:"POST",body:e}}}),fetchUserById:e.query({query:function(e){return{url:"".concat(o,"/").concat(e)}}})}}}),i=(l.useFetchUserLoginDataQuery,l.useFetchUserByIdQuery);l.useLazyFetchUserLoginDataQuery,l.useLazyFetchUserByIdQuery},6327:(e,r,t)=>{function a(e,r){var t=Object.entries(e),a=Object.entries(r);if(t.length!==a.length)return!1;for(var n=0;n<t.length;++n)if(t[n][0]!==a[n][0]||t[n][1]!==a[n][1])return!1;return!0}t.d(r,{A:()=>a})},3049:(e,r,t)=>{t.d(r,{Y:()=>n});var a=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],n=function(e,r){var t=new Date(e),n=t.getDate(),s=t.getMonth(),c=t.getFullYear(),o=s<10?"0".concat(s+1):s+1,l=n<10?"0".concat(n):n;switch(r){case"text":return"".concat(n," ").concat(a[s],", ").concat(c);case"date":return"".concat(l,".").concat(o,".").concat(c)}}},6359:(e,r,t)=>{t.d(r,{e:()=>a});var a=function(e){void 0===e&&(e="instant"),window.scrollTo({top:0,behavior:e})}}}]);